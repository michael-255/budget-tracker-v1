import{c as ie,u as se,a as ce,g as de,b as me,d as ve,r as m,e as p,o as fe,h as W,f as ge,Q as x,i as _e,j as he,s as J,k as j,l as te,D as $,S as Z,m as N,n as M,w as l,p as e,q as z,t as c,v as s,x as r,A as ee,y as be,I as _,z as L,R as ye,B as P,C as Ee,M as re,E as T,F as G,G as b,H as O,J as ae,K as Te,L as Ae,N as Se,O as Ne,P as le,T as ne}from"./index-1be7ecac.js";import{_ as $e}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-1e1b9fcf.js";import{Q as Fe}from"./QSlider-23f6a15d.js";import{Q as i,a as V}from"./QItemSection-ab74f1e3.js";import{Q as Ie}from"./QList-7f152fbb.js";import{C as we,p as Ce,a as xe,b as Me,A as De,B as Re,P as Ve,u as Oe,c as ke}from"./useDialogs-5ab51d4d.js";import{Q as X}from"./QSelect-0e6a443e.js";import{u as Le}from"./ui-f667e14e.js";import{u as qe}from"./useRouting-9c6ffeb2.js";import"./TouchPan-7ad8818a.js";import"./selection-d3fa20b4.js";import"./action-7b40f34f.js";import"./QChip-d7a63ffb.js";import"./QItemLabel-0dbc31dd.js";import"./QMenu-34131b2a.js";const He=ie({name:"QRating",props:{...se,...ce,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(t,{slots:F,emit:I}){const{proxy:{$q:w}}=de(),C=me(t),f=ve(t),E=_e(f),y=m(0);let g={};const S=p(()=>t.readonly!==!0&&t.disable!==!0),d=p(()=>`q-rating row inline items-center q-rating--${S.value===!0?"":"non-"}editable`+(t.noDimming===!0?" q-rating--no-dimming":"")+(t.disable===!0?" disabled":"")+(t.color!==void 0&&Array.isArray(t.color)===!1?` text-${t.color}`:"")),A=p(()=>{const u=Array.isArray(t.icon)===!0?t.icon.length:0,n=Array.isArray(t.iconSelected)===!0?t.iconSelected.length:0,v=Array.isArray(t.iconHalf)===!0?t.iconHalf.length:0,h=Array.isArray(t.color)===!0?t.color.length:0,R=Array.isArray(t.colorSelected)===!0?t.colorSelected.length:0,a=Array.isArray(t.colorHalf)===!0?t.colorHalf.length:0;return{iconLen:u,icon:u>0?t.icon[u-1]:t.icon,selIconLen:n,selIcon:n>0?t.iconSelected[n-1]:t.iconSelected,halfIconLen:v,halfIcon:v>0?t.iconHalf[n-1]:t.iconHalf,colorLen:h,color:h>0?t.color[h-1]:t.color,selColorLen:R,selColor:R>0?t.colorSelected[R-1]:t.colorSelected,halfColorLen:a,halfColor:a>0?t.colorHalf[a-1]:t.colorHalf}}),k=p(()=>{if(typeof t.iconAriaLabel=="string"){const u=t.iconAriaLabel.length!==0?`${t.iconAriaLabel} `:"";return n=>`${u}${n}`}if(Array.isArray(t.iconAriaLabel)===!0){const u=t.iconAriaLabel.length;if(u>0)return n=>t.iconAriaLabel[Math.min(n,u)-1]}return(u,n)=>`${n} ${u}`}),D=p(()=>{const u=[],n=A.value,v=Math.ceil(t.modelValue),h=S.value===!0?0:null,R=t.iconHalf===void 0||v===t.modelValue?-1:v;for(let a=1;a<=t.max;a++){const o=y.value===0&&t.modelValue>=a||y.value>0&&y.value>=a,Q=R===a&&y.value<a,K=y.value>0&&(Q===!0?v:t.modelValue)>=a&&y.value<a,oe=Q===!0?a<=n.halfColorLen?t.colorHalf[a-1]:n.halfColor:n.selColor!==void 0&&o===!0?a<=n.selColorLen?t.colorSelected[a-1]:n.selColor:a<=n.colorLen?t.color[a-1]:n.color,ue=(Q===!0?a<=n.halfIconLen?t.iconHalf[a-1]:n.halfIcon:n.selIcon!==void 0&&(o===!0||K===!0)?a<=n.selIconLen?t.iconSelected[a-1]:n.selIcon:a<=n.iconLen?t.icon[a-1]:n.icon)||w.iconSet.rating.icon;u.push({name:(Q===!0?a<=n.halfIconLen?t.iconHalf[a-1]:n.halfIcon:n.selIcon!==void 0&&(o===!0||K===!0)?a<=n.selIconLen?t.iconSelected[a-1]:n.selIcon:a<=n.iconLen?t.icon[a-1]:n.icon)||w.iconSet.rating.icon,attrs:{tabindex:h,role:"radio","aria-checked":t.modelValue===a?"true":"false","aria-label":k.value(a,ue)},iconClass:"q-rating__icon"+(o===!0||Q===!0?" q-rating__icon--active":"")+(K===!0?" q-rating__icon--exselected":"")+(y.value===a?" q-rating__icon--hovered":"")+(oe!==void 0?` text-${oe}`:"")})}return u}),B=p(()=>{const u={role:"radiogroup"};return t.disable===!0&&(u["aria-disabled"]="true"),t.readonly===!0&&(u["aria-readonly"]="true"),u});function q(u){if(S.value===!0){const n=he(parseInt(u,10),1,parseInt(t.max,10)),v=t.noReset!==!0&&t.modelValue===n?0:n;v!==t.modelValue&&I("update:modelValue",v),y.value=0}}function H(u){S.value===!0&&(y.value=u)}function U(u,n){switch(u.keyCode){case 13:case 32:return q(n),J(u);case 37:case 40:return g[`rt${n-1}`]&&g[`rt${n-1}`].focus(),J(u);case 39:case 38:return g[`rt${n+1}`]&&g[`rt${n+1}`].focus(),J(u)}}function Y(){y.value=0}return fe(()=>{g={}}),()=>{const u=[];return D.value.forEach(({iconClass:n,name:v,attrs:h},R)=>{const a=R+1;u.push(W("div",{key:a,ref:o=>{g[`rt${a}`]=o},class:"q-rating__icon-container flex flex-center",...h,onClick(){q(a)},onMouseover(){H(a)},onMouseout:Y,onFocus(){H(a)},onBlur:Y,onKeyup(o){U(o,a)}},ge(F[`tip-${a}`],[W(x,{class:n,name:v})])))}),t.name!==void 0&&t.disable!==!0&&E(u,"push"),W("div",{class:d.value,style:C.value,...B.value},u)}}}),Ye={class:"text-h6"},Be=c("p",null,' Continue reading to learn more, or scroll to the bottom and click the "Start Using App" button to jump right in. ',-1),Ue={class:"q-mb-md"},pe=c("p",null," You are currently on the Dashboard page. This page gives you quick access to the primary data you work with in the app. You can favorite items on the Dashboard by clicking the star icon in the top right corner of the item. This prioritizes the item to the top of the list. ",-1),Qe={class:"q-mb-md"},Ge=c("p",null," You can navigate through the app using the menu in the top left corner of the page. An example of the menu button is below. The menu gives you access to the primary data tables, Frequently Asked Questions (FAQ), Settings, and more. More advanced operations for the app are available on the Settings page. ",-1),ze={class:"q-mb-md"},Pe=c("p",null,"Click the button below when you are ready to get started.",-1),je=j({__name:"WelcomeOverlay",setup(t){const F=m(0),I=m(!1);te(async()=>{I.value=!!await $.getSettingValue(Z.WELCOME_OVERLAY)});async function w(){await $.setSetting(Z.WELCOME_OVERLAY,!1),I.value=!1}return(C,f)=>(N(),M(Ee,{modelValue:I.value,"onUpdate:modelValue":f[2]||(f[2]=E=>I.value=E),persistent:""},{default:l(()=>[e(P,{flat:"",square:""},{default:l(()=>[e(z,null,{default:l(()=>[c("p",Ye,"Welcome to "+s(r(ee)),1),c("p",null,s(r(be)),1),Be,c("div",Ue,[pe,e(He,{modelValue:F.value,"onUpdate:modelValue":f[0]||(f[0]=E=>F.value=E),max:1,icon:r(_).FAVORITE_OFF,"icon-selected":r(_).FAVORITE_ON,color:"warning",size:"md"},null,8,["modelValue","icon","icon-selected"])]),c("div",Qe,[Ge,e(L,{disable:"",color:"primary",class:"q-px-sm",icon:r(_).MENU},null,8,["icon"])]),c("div",ze,[c("p",null," Hope you find "+s(r(ee))+" useful. Please consider donating to help me continue to create and maintain apps like this. Thank you! ",1),e(L,{color:"warning",label:"Donate",to:{name:r(ye).DONATE},icon:r(_).DONATE},null,8,["to","icon"])]),c("div",null,[Pe,e(L,{"no-caps":"",label:"Start Using App",class:"full-width",size:"lg",color:"positive",icon:r(_).READY,onClick:f[1]||(f[1]=E=>w())},null,8,["icon"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ke=c("p",{class:"text-h6"},"Budget",-1),We={class:"row justify-between"},Je={class:"col text-body2 text-weight-bold"},Xe={class:"col text-body2 text-right"},Ze={class:"row justify-between"},et={class:"col text-caption"},tt={key:0,class:"col text-caption text-right"},at={key:1,class:"col text-caption text-right"},ot=c("p",{class:"text-h6"},"Expenses",-1),lt=j({__name:"DashboardBudget",setup(t){we.register(Ce,xe,Me,De,Re);const{getPieChartOptions:F,getPieChartData:I}=Oe(),w=Object.values(re)[new Date().getMonth()],C=new Date().getFullYear(),f=m(0),E=m(0),y=m(0),g=m("grey"),S=m("No Budget"),d=m({labels:[],datasets:[]}),A=m(0),k=m(0),D=m(0),B=m(0),q=m(0),H=m(0),U=m(0),Y=m(0),u=m(0),n=m(0);return te(async()=>{f.value=await $.getSettingValue(Z.BUDGET_TARGET)??0;const v=new Date().getMonth(),h=new Date().getFullYear(),R=await $.getExpensesForMonthAndYear(v,h);E.value=Number(R.reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),A.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.HOUSING)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),k.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.TRANSPORTATION)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),D.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.EDUCATION)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),B.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.GROCERIES)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),q.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.ENTERTAINMENT)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),H.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.HEALTH_FITNESS)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),U.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.INVESTMENTS)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),Y.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.EATING_DRINKING_OUT)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),u.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.GIFTS)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),n.value=Number((await $.getExpensesForMonthYearCategory(v,h,T.OTHER)).reduce((a,o)=>a+Number(o!=null&&o.amount?o.amount:0),0).toFixed(2)),d.value=I(A.value,k.value,D.value,B.value,q.value,H.value,U.value,Y.value,u.value,n.value),f.value&&(y.value=Number((E.value/f.value*100).toFixed(0)),S.value=`${y.value}%`,y.value<80?g.value="positive":y.value<100?g.value="warning":g.value="negative")}),(v,h)=>(N(),G(ae,null,[e(P,{class:"q-mb-md"},{default:l(()=>[e(z,null,{default:l(()=>[Ke,c("div",We,[c("div",Je,s(r(w))+" "+s(r(C)),1),c("div",Xe,"$"+s(f.value)+" Budgeted",1)]),e(Fe,{class:"q-mt-xs",modelValue:E.value,"onUpdate:modelValue":h[0]||(h[0]=R=>E.value=R),readonly:"",min:0,max:f.value,color:g.value,"selection-color":g.value,"track-size":"10px","thumb-size":"0px"},null,8,["modelValue","max","color","selection-color"]),c("div",Ze,[c("div",et,"$"+s(E.value)+" spent",1),f.value-E.value>=0?(N(),G("div",tt," $"+s(f.value-E.value)+" remaining ",1)):(N(),G("div",at," $"+s(Math.abs(f.value-E.value))+" over budget ",1))])]),_:1})]),_:1}),e(P,null,{default:l(()=>[e(z,null,{default:l(()=>[ot,e(Ie,{bordered:"",separator:"",dense:""},{default:l(()=>[A.value>0?(N(),M(V,{key:0},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).HOME,color:"amber-8"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).HOUSING),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(A.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),k.value>0?(N(),M(V,{key:1},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).TRANSPORTATION,color:"deep-orange"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).TRANSPORTATION),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(k.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),D.value>0?(N(),M(V,{key:2},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).EDUCATION,color:"indigo"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).EDUCATION),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(D.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),B.value>0?(N(),M(V,{key:3},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).GROCERIES,color:"light-green"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).GROCERIES),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(B.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),q.value>0?(N(),M(V,{key:4},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).ENTERTAINMENT,color:"blue-8"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).ENTERTAINMENT),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(q.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),H.value>0?(N(),M(V,{key:5},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).HEALTH_FITNESS,color:"red-10"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).HEALTH_FITNESS),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(H.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),U.value>0?(N(),M(V,{key:6},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).INVESTMENTS,color:"green"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).INVESTMENTS),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(U.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),Y.value>0?(N(),M(V,{key:7},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).EATING_DRINKING,color:"purple-8"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).EATING_DRINKING_OUT),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(Y.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),u.value>0?(N(),M(V,{key:8},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).GIFTS,color:"pink-8"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).GIFTS),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(u.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),n.value>0?(N(),M(V,{key:9},{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).OTHER,color:"blue-grey"},null,8,["name"])]),_:1}),e(i,null,{default:l(()=>[b(s(r(T).OTHER),1)]),_:1}),e(i,{side:""},{default:l(()=>[b("$"+s(n.value.toFixed(2)),1)]),_:1})]),_:1})):O("",!0),e(V,null,{default:l(()=>[e(i,{avatar:""},{default:l(()=>[e(x,{name:r(_).TOTAL},null,8,["name"])]),_:1}),e(i,{class:"text-weight-bold"},{default:l(()=>[b("TOTAL")]),_:1}),e(i,{class:"text-weight-bold",side:""},{default:l(()=>[b("$"+s(E.value.toFixed(2)),1)]),_:1})]),_:1})]),_:1}),e(r(Ve),{data:d.value,options:r(F)(),style:{"max-height":"600px"},class:"q-mt-md"},null,8,["data","options"])]),_:1})]),_:1})],64))}}),nt=c("p",{class:"text-h6"},"Reports by Year",-1),rt=c("div",{class:"text-weight-bold text-body1"},"Year",-1),ut=c("p",{class:"text-h6"},"Reports by Month",-1),it=c("div",{class:"text-weight-bold text-body1"},"Month",-1),st=c("div",{class:"text-weight-bold text-body1"},"Year",-1),ct=j({__name:"DashboardReports",setup(t){const{yearReportDialog:F,monthReportDialog:I}=ke(),w=m(new Date().getFullYear()),C=m([]),f=m(new Date().getMonth()),E=Object.values(re).map((S,d)=>({label:`${d+1} - ${S}`,value:d})),y=m(new Date().getFullYear()),g=m([]);return te(async()=>{var d;const S=(d=await $.getOldestExpense())==null?void 0:d.createdTimestamp;if(S){const A=new Date(S).getFullYear(),k=new Date().getFullYear();for(let D=A;D<=k;D++)C.value.push(D),g.value.push(D);C.value.reverse(),g.value.reverse()}else C.value.push(new Date().getFullYear()),g.value.push(new Date().getFullYear()),C.value.reverse(),g.value.reverse()}),(S,d)=>(N(),G(ae,null,[e(P,{class:"q-mb-md"},{default:l(()=>[e(z,null,{default:l(()=>[nt,rt,e(X,{modelValue:w.value,"onUpdate:modelValue":d[0]||(d[0]=A=>w.value=A),modelModifiers:{number:!0},options:C.value,"lazy-rules":"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-md"},null,8,["modelValue","options"]),e(L,{label:"View Report",type:"submit",color:"primary",icon:r(_).CHARTS,onClick:d[1]||(d[1]=A=>r(F)(w.value))},null,8,["icon"])]),_:1})]),_:1}),e(P,null,{default:l(()=>[e(z,null,{default:l(()=>[ut,it,e(X,{modelValue:f.value,"onUpdate:modelValue":d[2]||(d[2]=A=>f.value=A),modelModifiers:{number:!0},options:r(E),"lazy-rules":"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-md"},null,8,["modelValue","options"]),st,e(X,{modelValue:y.value,"onUpdate:modelValue":d[3]||(d[3]=A=>y.value=A),modelModifiers:{number:!0},options:g.value,"lazy-rules":"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-md"},null,8,["modelValue","options"]),e(L,{label:"View Report",type:"submit",color:"primary",icon:r(_).CHARTS,onClick:d[4]||(d[4]=A=>r(I)(f.value,y.value))},null,8,["icon"])]),_:1})]),_:1})],64))}}),dt={class:"q-mb-md"},mt={class:"row justify-center"},vt=c("div",{class:"q-mx-lg"},null,-1),ft={class:"row justify-center q-gutter-md"},gt={class:"col-12"},_t={class:"row justify-center q-gutter-md"},ht={class:"col-12"},Rt=j({__name:"DashboardView",setup(t){Te({title:`${ee} - Dashboard`});const F=Le(),{log:I}=Ae(),{goToCreate:w,goToExpensesData:C}=qe(),f=[{value:"budget",label:"Budget",icon:_.BUDGET},{value:"reports",label:"Reports",icon:_.CHARTS}],E=m([]),y=$.liveExpenses().subscribe({next:g=>E.value=g,error:g=>I.error("Error fetching live Expenses",g)});return Se(()=>{y.unsubscribe()}),(g,S)=>(N(),M($e,{bannerIcon:r(_).DASHBOARD,bannerTitle:"Dashboard"},{default:l(()=>[e(je),c("section",dt,[c("div",mt,[(N(),G(ae,null,Ne(f,(d,A)=>e(L,{key:A,round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:d.icon,color:r(F).dashboardSelection===d.value?"info":"grey",onClick:k=>r(F).dashboardSelection=d.value},null,8,["icon","color","onClick"])),64)),vt,e(L,{round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:r(_).EXPENSE,color:"positive",onClick:S[0]||(S[0]=d=>r(w)())},null,8,["icon"]),e(L,{round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:r(_).TABLE,color:"accent",onClick:S[1]||(S[1]=d=>r(C)())},null,8,["icon"])])]),le(c("section",ft,[c("div",gt,[e(lt)])],512),[[ne,r(F).dashboardSelection==="budget"]]),le(c("section",_t,[c("div",ht,[e(ct)])],512),[[ne,r(F).dashboardSelection==="reports"]])]),_:1},8,["bannerIcon"]))}});export{Rt as default};
