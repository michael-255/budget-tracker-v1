import{c as ie,u as se,a as ce,g as de,b as me,d as ve,r as v,e as Q,o as ge,h as X,f as fe,Q as M,i as he,j as _e,s as Z,k as K,l as W,D as T,S as j,m as A,n as D,w as l,p as t,q as z,t as i,v as s,x as n,A as te,y as be,I as h,z as L,R as ye,B as P,C as Ne,M as re,E as S,F as U,G as N,H as O,J as ae,K as Se,L as Ee,N as Ae,O as Te,P as le,T as ne}from"./index-63ca9a3c.js";import{_ as $e}from"./ResponsivePage.vue_vue_type_script_setup_true_lang-42ec6fdf.js";import{Q as we}from"./QSlider-26805811.js";import{Q as u,a as V}from"./QItemSection-7ce6632d.js";import{Q as Ie}from"./QList-6ae2ca5c.js";import{C as Fe,p as xe,a as Ce,b as Me,A as De,B as Re,P as Ve,u as Oe,c as ke}from"./useDialogs-3310041d.js";import{Q as ee}from"./QSelect-8f852d43.js";import{u as Le}from"./ui-414f6f2f.js";import{u as qe}from"./useRouting-5b808252.js";import"./TouchPan-8afb6f8b.js";import"./selection-98805e7f.js";import"./action-91bf94ea.js";import"./QChip-df42d9fb.js";import"./QItemLabel-9cf43daf.js";import"./QMenu-c8e63002.js";const He=ie({name:"QRating",props:{...se,...ce,modelValue:{type:Number,required:!0},max:{type:[String,Number],default:5},icon:[String,Array],iconHalf:[String,Array],iconSelected:[String,Array],iconAriaLabel:[String,Array],color:[String,Array],colorHalf:[String,Array],colorSelected:[String,Array],noReset:Boolean,noDimming:Boolean,readonly:Boolean,disable:Boolean},emits:["update:modelValue"],setup(a,{slots:$,emit:w}){const{proxy:{$q:I}}=de(),F=me(a),g=ve(a),b=he(g),_=v(0);let y={};const E=Q(()=>a.readonly!==!0&&a.disable!==!0),d=Q(()=>`q-rating row inline items-center q-rating--${E.value===!0?"":"non-"}editable`+(a.noDimming===!0?" q-rating--no-dimming":"")+(a.disable===!0?" disabled":"")+(a.color!==void 0&&Array.isArray(a.color)===!1?` text-${a.color}`:"")),f=Q(()=>{const r=Array.isArray(a.icon)===!0?a.icon.length:0,o=Array.isArray(a.iconSelected)===!0?a.iconSelected.length:0,m=Array.isArray(a.iconHalf)===!0?a.iconHalf.length:0,C=Array.isArray(a.color)===!0?a.color.length:0,c=Array.isArray(a.colorSelected)===!0?a.colorSelected.length:0,e=Array.isArray(a.colorHalf)===!0?a.colorHalf.length:0;return{iconLen:r,icon:r>0?a.icon[r-1]:a.icon,selIconLen:o,selIcon:o>0?a.iconSelected[o-1]:a.iconSelected,halfIconLen:m,halfIcon:m>0?a.iconHalf[o-1]:a.iconHalf,colorLen:C,color:C>0?a.color[C-1]:a.color,selColorLen:c,selColor:c>0?a.colorSelected[c-1]:a.colorSelected,halfColorLen:e,halfColor:e>0?a.colorHalf[e-1]:a.colorHalf}}),R=Q(()=>{if(typeof a.iconAriaLabel=="string"){const r=a.iconAriaLabel.length!==0?`${a.iconAriaLabel} `:"";return o=>`${r}${o}`}if(Array.isArray(a.iconAriaLabel)===!0){const r=a.iconAriaLabel.length;if(r>0)return o=>a.iconAriaLabel[Math.min(o,r)-1]}return(r,o)=>`${o} ${r}`}),x=Q(()=>{const r=[],o=f.value,m=Math.ceil(a.modelValue),C=E.value===!0?0:null,c=a.iconHalf===void 0||m===a.modelValue?-1:m;for(let e=1;e<=a.max;e++){const k=_.value===0&&a.modelValue>=e||_.value>0&&_.value>=e,G=c===e&&_.value<e,J=_.value>0&&(G===!0?m:a.modelValue)>=e&&_.value<e,oe=G===!0?e<=o.halfColorLen?a.colorHalf[e-1]:o.halfColor:o.selColor!==void 0&&k===!0?e<=o.selColorLen?a.colorSelected[e-1]:o.selColor:e<=o.colorLen?a.color[e-1]:o.color,ue=(G===!0?e<=o.halfIconLen?a.iconHalf[e-1]:o.halfIcon:o.selIcon!==void 0&&(k===!0||J===!0)?e<=o.selIconLen?a.iconSelected[e-1]:o.selIcon:e<=o.iconLen?a.icon[e-1]:o.icon)||I.iconSet.rating.icon;r.push({name:(G===!0?e<=o.halfIconLen?a.iconHalf[e-1]:o.halfIcon:o.selIcon!==void 0&&(k===!0||J===!0)?e<=o.selIconLen?a.iconSelected[e-1]:o.selIcon:e<=o.iconLen?a.icon[e-1]:o.icon)||I.iconSet.rating.icon,attrs:{tabindex:C,role:"radio","aria-checked":a.modelValue===e?"true":"false","aria-label":R.value(e,ue)},iconClass:"q-rating__icon"+(k===!0||G===!0?" q-rating__icon--active":"")+(J===!0?" q-rating__icon--exselected":"")+(_.value===e?" q-rating__icon--hovered":"")+(oe!==void 0?` text-${oe}`:"")})}return r}),B=Q(()=>{const r={role:"radiogroup"};return a.disable===!0&&(r["aria-disabled"]="true"),a.readonly===!0&&(r["aria-readonly"]="true"),r});function q(r){if(E.value===!0){const o=_e(parseInt(r,10),1,parseInt(a.max,10)),m=a.noReset!==!0&&a.modelValue===o?0:o;m!==a.modelValue&&w("update:modelValue",m),_.value=0}}function H(r){E.value===!0&&(_.value=r)}function p(r,o){switch(r.keyCode){case 13:case 32:return q(o),Z(r);case 37:case 40:return y[`rt${o-1}`]&&y[`rt${o-1}`].focus(),Z(r);case 39:case 38:return y[`rt${o+1}`]&&y[`rt${o+1}`].focus(),Z(r)}}function Y(){_.value=0}return ge(()=>{y={}}),()=>{const r=[];return x.value.forEach(({iconClass:o,name:m,attrs:C},c)=>{const e=c+1;r.push(X("div",{key:e,ref:k=>{y[`rt${e}`]=k},class:"q-rating__icon-container flex flex-center",...C,onClick(){q(e)},onMouseover(){H(e)},onMouseout:Y,onFocus(){H(e)},onBlur:Y,onKeyup(k){p(k,e)}},fe($[`tip-${e}`],[X(M,{class:o,name:m})])))}),a.name!==void 0&&a.disable!==!0&&b(r,"push"),X("div",{class:d.value,style:F.value,...B.value},r)}}}),Ye={class:"text-h6"},Be=i("p",null,' Continue reading to learn more, or scroll to the bottom and click the "Start Using App" button to jump right in. ',-1),pe={class:"q-mb-md"},Qe=i("p",null," You are currently on the Dashboard page. This page gives you quick access to the primary data you work with in the app. You can favorite items on the Dashboard by clicking the star icon in the top right corner of the item. This prioritizes the item to the top of the list. ",-1),Ge={class:"q-mb-md"},Ue=i("p",null," You can navigate through the app using the menu in the top left corner of the page. An example of the menu button is below. The menu gives you access to the primary data tables, Frequently Asked Questions (FAQ), Settings, and more. More advanced operations for the app are available on the Settings page. ",-1),ze={class:"q-mb-md"},Pe=i("p",null,"Click the button below when you are ready to get started.",-1),je=K({__name:"WelcomeOverlay",setup(a){const $=v(0),w=v(!1);W(async()=>{w.value=!!await T.getSettingValue(j.WELCOME_OVERLAY)});async function I(){await T.setSetting(j.WELCOME_OVERLAY,!1),w.value=!1}return(F,g)=>(A(),D(Ne,{modelValue:w.value,"onUpdate:modelValue":g[2]||(g[2]=b=>w.value=b),persistent:""},{default:l(()=>[t(P,{flat:"",square:""},{default:l(()=>[t(z,null,{default:l(()=>[i("p",Ye,"Welcome to "+s(n(te)),1),i("p",null,s(n(be)),1),Be,i("div",pe,[Qe,t(He,{modelValue:$.value,"onUpdate:modelValue":g[0]||(g[0]=b=>$.value=b),max:1,icon:n(h).FAVORITE_OFF,"icon-selected":n(h).FAVORITE_ON,color:"warning",size:"md"},null,8,["modelValue","icon","icon-selected"])]),i("div",Ge,[Ue,t(L,{disable:"",color:"primary",class:"q-px-sm",icon:n(h).MENU},null,8,["icon"])]),i("div",ze,[i("p",null," Hope you find "+s(n(te))+" useful. Please consider donating to help me continue to create and maintain apps like this. Thank you! ",1),t(L,{color:"warning",label:"Donate",to:{name:n(ye).DONATE},icon:n(h).DONATE},null,8,["to","icon"])]),i("div",null,[Pe,t(L,{"no-caps":"",label:"Start Using App",class:"full-width",size:"lg",color:"positive",icon:n(h).READY,onClick:g[1]||(g[1]=b=>I())},null,8,["icon"])])]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),Ke=i("p",{class:"text-h6"},"Budget",-1),We={class:"row justify-between"},Je={class:"col text-body2 text-weight-bold"},Xe={class:"col text-body2 text-right"},Ze={class:"row justify-between"},et={class:"col text-caption"},tt={key:0,class:"col text-caption text-right"},at={key:1,class:"col text-caption text-right"},ot=i("p",{class:"text-h6"},"Expenses",-1),lt=K({__name:"DashboardBudget",setup(a){Fe.register(xe,Ce,Me,De,Re);const{getPieChartOptions:$,getPieChartData:w}=Oe(),I=Object.values(re)[new Date().getMonth()],F=new Date().getFullYear(),g=v(0),b=v(0),_=v(0),y=v("grey"),E=v("No Budget"),d=v({labels:[],datasets:[]}),f=v(0),R=v(0),x=v(0),B=v(0),q=v(0),H=v(0),p=v(0),Y=v(0),r=v(0);return W(async()=>{g.value=await T.getSettingValue(j.BUDGET_TARGET)??0;const o=new Date().getMonth(),m=new Date().getFullYear(),C=await T.getExpensesForMonthAndYear(o,m);b.value=Number(C.reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),f.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.HOUSING)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),R.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.TRANSPORTATION)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),x.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.GROCERIES)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),B.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.ENTERTAINMENT)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),q.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.HEALTH_FITNESS)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),H.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.INVESTMENTS)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),p.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.EATING_DRINKING_OUT)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),Y.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.GIFTS)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),r.value=Number((await T.getExpensesForMonthYearCategory(o,m,S.OTHER)).reduce((c,e)=>c+Number(e!=null&&e.amount?e.amount:0),0).toFixed(2)),d.value=w(f.value,R.value,x.value,B.value,q.value,H.value,p.value,Y.value,r.value),g.value&&(_.value=Number((b.value/g.value*100).toFixed(0)),E.value=`${_.value}%`,_.value<80?y.value="positive":_.value<100?y.value="warning":y.value="negative")}),(o,m)=>(A(),U(ae,null,[t(P,{class:"q-mb-md"},{default:l(()=>[t(z,null,{default:l(()=>[Ke,i("div",We,[i("div",Je,s(n(I))+" "+s(n(F)),1),i("div",Xe,"$"+s(g.value)+" Budgeted",1)]),t(we,{class:"q-mt-xs",modelValue:b.value,"onUpdate:modelValue":m[0]||(m[0]=C=>b.value=C),readonly:"",min:0,max:g.value,color:y.value,"selection-color":y.value,"track-size":"10px","thumb-size":"0px"},null,8,["modelValue","max","color","selection-color"]),i("div",Ze,[i("div",et,"$"+s(b.value)+" spent",1),g.value-b.value>=0?(A(),U("div",tt," $"+s(g.value-b.value)+" remaining ",1)):(A(),U("div",at," $"+s(Math.abs(g.value-b.value))+" over budget ",1))])]),_:1})]),_:1}),t(P,null,{default:l(()=>[t(z,null,{default:l(()=>[ot,t(Ie,{bordered:"",separator:"",dense:""},{default:l(()=>[f.value>0?(A(),D(V,{key:0},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).HOME,color:"amber-8"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).HOUSING),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(f.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),R.value>0?(A(),D(V,{key:1},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).TRANSPORTATION,color:"deep-orange"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).TRANSPORTATION),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(R.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),x.value>0?(A(),D(V,{key:2},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).GROCERIES,color:"light-green"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).GROCERIES),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(x.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),B.value>0?(A(),D(V,{key:3},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).ENTERTAINMENT,color:"blue-8"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).ENTERTAINMENT),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(B.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),q.value>0?(A(),D(V,{key:4},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).HEALTH_FITNESS,color:"red-10"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).HEALTH_FITNESS),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(q.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),H.value>0?(A(),D(V,{key:5},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).INVESTMENTS,color:"green"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).INVESTMENTS),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(H.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),p.value>0?(A(),D(V,{key:6},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).EATING_DRINKING,color:"purple-8"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).EATING_DRINKING_OUT),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(p.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),Y.value>0?(A(),D(V,{key:7},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).GIFTS,color:"pink-8"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).GIFTS),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(Y.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),r.value>0?(A(),D(V,{key:8},{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).OTHER,color:"blue-grey"},null,8,["name"])]),_:1}),t(u,null,{default:l(()=>[N(s(n(S).OTHER),1)]),_:1}),t(u,{side:""},{default:l(()=>[N("$"+s(Number(r.value.toFixed(2))),1)]),_:1})]),_:1})):O("",!0),t(V,null,{default:l(()=>[t(u,{avatar:""},{default:l(()=>[t(M,{name:n(h).TOTAL},null,8,["name"])]),_:1}),t(u,{class:"text-weight-bold"},{default:l(()=>[N("TOTAL")]),_:1}),t(u,{class:"text-weight-bold",side:""},{default:l(()=>[N(" $"+s(Number(b.value.toFixed(2))),1)]),_:1})]),_:1})]),_:1}),t(n(Ve),{data:d.value,options:n($)(),style:{"max-height":"600px"},class:"q-mt-md"},null,8,["data","options"])]),_:1})]),_:1})],64))}}),nt=i("p",{class:"text-h6"},"Reports by Year",-1),rt=i("div",{class:"text-weight-bold text-body1"},"Year",-1),ut=i("p",{class:"text-h6"},"Reports by Month",-1),it=i("div",{class:"text-weight-bold text-body1"},"Month",-1),st=i("div",{class:"text-weight-bold text-body1"},"Year",-1),ct=K({__name:"DashboardReports",setup(a){const{yearReportDialog:$,monthReportDialog:w}=ke(),I=v(new Date().getFullYear()),F=v([]),g=v(new Date().getMonth()),b=Object.values(re).map((E,d)=>({label:`${d+1} - ${E}`,value:d})),_=v(new Date().getFullYear()),y=v([]);return W(async()=>{var d;const E=(d=await T.getOldestExpense())==null?void 0:d.createdTimestamp;if(E){const f=new Date(E).getFullYear(),R=new Date().getFullYear();for(let x=f;x<=R;x++)F.value.push(x),y.value.push(x);F.value.reverse(),y.value.reverse()}else F.value.push(new Date().getFullYear()),y.value.push(new Date().getFullYear()),F.value.reverse(),y.value.reverse()}),(E,d)=>(A(),U(ae,null,[t(P,{class:"q-mb-md"},{default:l(()=>[t(z,null,{default:l(()=>[nt,rt,t(ee,{modelValue:I.value,"onUpdate:modelValue":d[0]||(d[0]=f=>I.value=f),modelModifiers:{number:!0},options:F.value,"lazy-rules":"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-md"},null,8,["modelValue","options"]),t(L,{label:"View Report",type:"submit",color:"primary",icon:n(h).CHARTS,onClick:d[1]||(d[1]=f=>n($)(I.value))},null,8,["icon"])]),_:1})]),_:1}),t(P,null,{default:l(()=>[t(z,null,{default:l(()=>[ut,it,t(ee,{modelValue:g.value,"onUpdate:modelValue":d[2]||(d[2]=f=>g.value=f),modelModifiers:{number:!0},options:n(b),"lazy-rules":"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-md"},null,8,["modelValue","options"]),st,t(ee,{modelValue:_.value,"onUpdate:modelValue":d[3]||(d[3]=f=>_.value=f),modelModifiers:{number:!0},options:y.value,"lazy-rules":"","emit-value":"","map-options":"","options-dense":"",dense:"",outlined:"",color:"primary",class:"q-mb-md"},null,8,["modelValue","options"]),t(L,{label:"View Report",type:"submit",color:"primary",icon:n(h).CHARTS,onClick:d[4]||(d[4]=f=>n(w)(g.value,_.value))},null,8,["icon"])]),_:1})]),_:1})],64))}}),dt={class:"q-mb-md"},mt={class:"row justify-center"},vt=i("div",{class:"q-mx-lg"},null,-1),gt={class:"row justify-center q-gutter-md"},ft={class:"col-12"},ht={class:"row justify-center q-gutter-md"},_t={class:"col-12"},Rt=K({__name:"DashboardView",setup(a){Se({title:`${te} - Dashboard`});const $=Le(),{log:w}=Ee(),{goToCreate:I,goToExpensesData:F}=qe(),g=[{value:"budget",label:"Budget",icon:h.BUDGET},{value:"reports",label:"Reports",icon:h.CHARTS}],b=v(!1),_=v([]),y=T.liveExpenses().subscribe({next:E=>_.value=E,error:E=>w.error("Error fetching live Expenses",E)});return W(async()=>{b.value=!!await T.getSettingValue(j.DASHBOARD_DESCRIPTIONS)}),Ae(()=>{y.unsubscribe()}),(E,d)=>(A(),D($e,{bannerIcon:n(h).DASHBOARD,bannerTitle:"Dashboard"},{default:l(()=>[t(je),i("section",dt,[i("div",mt,[(A(),U(ae,null,Te(g,(f,R)=>t(L,{key:R,round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:f.icon,color:n($).dashboardSelection===f.value?"info":"grey",onClick:x=>n($).dashboardSelection=f.value},null,8,["icon","color","onClick"])),64)),vt,t(L,{round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:n(h).EXPENSE,color:"positive",onClick:d[0]||(d[0]=f=>n(I)())},null,8,["icon"]),t(L,{round:"",size:"lg",class:"q-mb-xs q-mx-xs",icon:n(h).TABLE,color:"accent",onClick:d[1]||(d[1]=f=>n(F)())},null,8,["icon"])])]),le(i("section",gt,[i("div",ft,[t(lt)])],512),[[ne,n($).dashboardSelection==="budget"]]),le(i("section",ht,[i("div",_t,[t(ct)])],512),[[ne,n($).dashboardSelection==="reports"]])]),_:1},8,["bannerIcon"]))}});export{Rt as default};
